Here is your clean `.md` spec file.
You can drop this directly into the project as:

`/docs/features/flashcard-gesture-audio-upgrade.md`

---

# Flash Card App – Gesture + Audio + Metadata Upgrade

## Version

v1.1 (Client-only, local persistence)

## Objective

Enhance the flash card experience with:

1. Word type metadata display
2. Tap-to-skip + immediate audio stop
3. Tap-to-cycle audio speed control (default 1.5x)
4. One-time gesture demo overlay (fully bypassable)

This must remain:

* Minimal
* Fast
* Native-feeling
* No backend
* No UI clutter

---

# 1️⃣ Word Type Metadata

## Data Model

Each flash card object must include:

```ts
{
  word: string
  translation: string
  wordType: string        // noun, verb, adjective, etc.
  gender?: string         // masculine | feminine (if noun)
  verbLabel?: string      // infinitive, past tense, etc.
}
```

---

## UI Placement

Under the Portuguese word.

Example:

```
CASA
NOUN · FEMININE
```

### Styling Rules

* Uppercase
* Small font
* ~60% opacity
* Slight letter spacing
* Visually subordinate to main word
* No icons
* No bright colors

This is metadata, not a headline.

---

# 2️⃣ Tap to Skip + Cut Audio

## Behavior

Single tap anywhere on the flash card:

* Immediately stops audio playback
* Hides explanation/details if visible
* Resets card to neutral state (if mid-answer)
* Does NOT show confirmation modal
* Does NOT delay

Tap means:

> “Got it. Move on.”

---

## Audio Rules

* No overlapping audio ever
* On tap → stop audio instantly
* On new card load → start fresh audio
* Cancel any timers or animations tied to explanation

Audio logic should be abstracted into a reusable hook/service.

---

# 3️⃣ Audio Playback Speed Control

## Requirements

* Default: **1.5x**
* Minimum: **0.5x**
* Suggested cycle:

```
0.5x → 1.0x → 1.5x → 2.0x → repeat
```

---

## UI

Small badge in top-right corner:

```
1.5x
```

### Interaction

* Tap badge → cycles to next speed
* No dropdown
* No modal
* No long press
* Instant change

---

## Persistence

* Store selected speed in AsyncStorage / localStorage
* Apply speed to all future audio playback
* Load on app startup

---

# 4️⃣ One-Time Gesture Demo Overlay

## Purpose

Teach:

* Swipe right → Know
* Swipe left → Don’t know
* Tap → Stop audio / skip details
* Tap speed badge → Change speed

Must feel intuitive for mobile-native users.

---

## Trigger

On first app launch only.

Use:

```
hasSeenGestureDemo = true
```

If not set → show overlay.

---

## Dismiss / Bypass (Required)

* Single tap anywhere dismisses instantly
* Overlay captures all touches while visible
* On dismiss:

  * Stop demo animations
  * Hide overlay
  * Persist `hasSeenGestureDemo = true`
  * Re-enable gestures

---

## Auto-Dismiss (Recommended)

* Auto-dismiss after ~3 seconds
* Whichever occurs first (tap or timeout) dismisses

---

## Persistence Rule

Set `hasSeenGestureDemo = true`:

* Immediately when shown OR
* Immediately on dismiss

Prefer setting on show to prevent repeat if crash occurs mid-demo.

---

## Visual Design

Minimal overlay:

* Low-opacity dark scrim
* White micro text
* Subtle animated ghost hand or arrow hints
* No multi-screen walkthrough
* No large paragraphs
* No heavy UI

Example micro labels:

```
Swipe → Know
Swipe ← Skip
Tap = Stop Audio
Tap 1.5x to change
```

Entire experience should last ~3 seconds.

---

# 5️⃣ Gesture Priority Rules

While overlay is visible:

* Disable card swipes
* Disable card tap behavior
* Disable speed badge tap

Overlay intercepts all touches.

After dismissal:

* Restore all gesture handlers

---

# 6️⃣ Technical Constraints

* React Native
* AsyncStorage (no backend)
* No database
* Keep implementation modular
* Avoid heavy onboarding libraries
* Prefer hand-rolled animation via Animated or Reanimated

---

# 7️⃣ Definition of Done

* Word type metadata displays correctly
* Tap stops audio instantly and resets state
* Speed badge cycles and persists selection
* Demo overlay appears once only
* Demo is instantly bypassable
* No audio overlap
* No gesture conflicts
* No UI clutter

---

# UX Philosophy

The app should feel:

* Fast
* Decisive
* Clean
* Adult
* Intentional

No bloat.
No friction.
No fluff.

Ship lean.
